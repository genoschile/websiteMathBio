---
import Layout from "../layouts/Layout.astro";
---

<Layout title="home">
	<h1>home</h1>

	<main>
		<!-- Contenedor principal de Swiper -->
		<div class="swiper-container">
			<div class="swiper info-cards">
				<!-- Wrapper adicional requerido -->
				<div class="swiper-wrapper" id="my-slider">
					<!-- Los slides -->
					<a
						class="swiper-slide"
						href="/images/1.jpeg"
						data-pswp-width="800"
						data-pswp-height="800"
						target="_blank"
						data-cropped="true"
					>
						<img src="/images/1.jpeg" alt="Image 3" />
					</a>
					<a
						class="swiper-slide"
						href="/images/1.jpeg"
						data-pswp-width="800"
						data-pswp-height="800"
						target="_blank"
						data-cropped="true"
					>
						<img src="/images/1.jpeg" alt="Image 3" />
					</a>
					<a
						class="swiper-slide"
						href="/images/1.jpeg"
						data-pswp-width="800"
						data-pswp-height="800"
						target="_blank"
						data-cropped="true"
					>
						<img src="/images/1.jpeg" alt="Image 3" />
					</a>
					<a
						class="swiper-slide"
						href="/images/2.jpeg"
						data-pswp-width="800"
						data-pswp-height="800"
						target="_blank"
						data-cropped="true"
					>
						<img src="/images/2.jpeg" alt="Image 2" />
					</a>
				</div>
				<!-- Botones de navegación -->
				<div class="swiper-button-prev"></div>
				<div class="swiper-button-next"></div>
			</div>
		</div>
	</main>
</Layout>

<style>
	/* Estilo del contenedor principal */
	main {
		max-width: 1000px; /* Controla el tamaño máximo */
		width: 100%; /* Toma todo el ancho disponible */
		margin: 0 auto; /* Centra el main horizontalmente */
		padding: 20px; /* Espaciado interno opcional */
		display: grid;
		place-items: center; /* Centra contenido en ambos ejes */
	}

	/* Contenedor adicional para ajustar proporción */
	.swiper-container {
		width: 100%; /* Ancho completo dentro de main */
		max-width: 900px; /* Tamaño máximo del carrusel */
		height: auto;
	}

	/* Ajuste general de los slides */
	.swiper {
		width: 100%;
	}

	.swiper-slide {
		height: 500px; /* Ajusta la altura según lo deseado */
		border-radius: 10px;
		overflow: hidden;
	}

	.swiper-slide img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}

	/* Estilo de botones */
	.swiper-button-next,
	.swiper-button-prev {
		background-color: white;
		width: 60px;
		height: 60px;
		border-radius: 10px;
		background-image: url("/svgs/arrowLeft.svg");
		background-repeat: no-repeat;
		background-size: 100% auto;
	}

	.swiper-button-prev {
		transform: rotate(180deg); /* Reutiliza el mismo ícono */
	}

	.swiper-button-next::after,
	.swiper-button-prev::after {
		content: "";
	}

	/* Responsive */
	@media (max-width: 768px) {
		.swiper-slide {
			width: 70%; /* Ajuste para pantallas móviles */
			height: 400px;
		}

		.swiper-button-prev,
		.swiper-button-next {
			display: none; /* Oculta botones en móviles */
		}
	}
</style>

<script>
	// Core de Swiper y estilos
	import Swiper from "swiper";
	import "swiper/css";
	// Módulo Navigation de Swiper y estilos
	import { Navigation } from "swiper/modules";
	import "swiper/css/navigation";
	// Photoswipe y estilos
	import PhotoSwipeLightbox from "photoswipe/lightbox";
	import "photoswipe/style.css";

	document.addEventListener("astro:page-load", () => {
		// Configurar Swiper
		// Configurar Swiper
		const swiper = new Swiper(".swiper", {
			modules: [Navigation],
			loop: true,
			slidesPerView: "auto",
			spaceBetween: 20,
			breakpoints: {
				// Cuando la pantalla es >= 768px
				768: {
					slidesPerView: 2,
					spaceBetween: 30,
				},
				// Cuando la pantalla es >= 1024px
				1024: {
					slidesPerView: 3,
					spaceBetween: 40,
				},
			},
			navigation: {
				prevEl: ".swiper-button-prev",
				nextEl: ".swiper-button-next",
			},
		});

		// Configurar e inicializar Photoswipe
		const lightbox = new PhotoSwipeLightbox({
			gallery: "#my-slider",
			children: "a",
			pswpModule: () => import("photoswipe"),
		});
		lightbox.init();
	});
</script>
