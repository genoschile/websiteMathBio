---
// Props interface
interface Props {
  title: string;
  authors: string[];
  type: string;
  year: string | number;
  abstract?: string;
  tags?: string[];
  url?: string;
}

const { title, authors, type, year, abstract, tags, url } = Astro.props;

import Card from "@components/ui/card/card.astro";
import CardContent from "@components/ui/card/cardContent.astro";
import CardDescription from "@components/ui/card/cardDescription.astro";
import CardFooter from "@components/ui/card/cardFooter.astro";
import CardHeader from "@components/ui/card/cardHeader.astro";
import CardTitle from "@components/ui/card/cardTitle.astro";
import SlotButton from "@components/ui/slotButton.astro";
---

<Card
  data-publication
  class="shadow-md hover:shadow-lg transition-shadow duration-300"
>
  <CardHeader>
    <CardTitle>{title}</CardTitle>
    <CardDescription>{authors}</CardDescription>
  </CardHeader>

  <CardContent>
    <p class="text-sm text-muted-foreground italic">
      {type} ({year})
    </p>

    {
      abstract && (
        <p class="mt-2 text-sm text-foreground line-clamp-3">{abstract}</p>
      )
    }

    {
      tags && tags.length > 0 && (
        <p class="mt-2 text-xs text-muted-foreground">
          <strong>Tags:</strong>
        </p>
      )
    }
  </CardContent>

  {
    url && (
      <CardFooter>
        <SlotButton variant="link" asChild class="p-0 text-primary">
          <a href={url} target="_blank" rel="noopener noreferrer">
            View Publication
          </a>
        </SlotButton>
      </CardFooter>
    )
  }
</Card>
