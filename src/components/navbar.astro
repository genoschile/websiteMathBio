---
import Menu from "../icons/menu.astro";
import Announcement from "./announcement.astro";
import LanguageMenu from "./LanguageMenu.astro";
import Toggle from "./toggle.astro";

const links = [
    { href: "/", label: "Inicio" },
    { href: "/nosotros", label: "Nosotros" },
    { href: "/miembros", label: "Miembros" },
    { href: "/proyectos", label: "Proyectos" },
    { href: "/cursos", label: "Cursos" },
    { href: "/software", label: "Software" },
    { href: "/galeria", label: "Galer√≠a" },
];

const currentPath = Astro.url.pathname;
---

<Announcement />

<header class="header">
    <nav>
        <input type="checkbox" id="sidebar-active" />
        <label for="">
            <Menu />
        </label>

        <label id="overlay" for="sidebar-active"></label>

        <img src="/MathBio.png" alt="" />

        <div class="links-container">
            <label for="sidebar-active" class="close-sidebar-button">

            </label>
        </div>

        <ul>
            {
                links.map((link) => (
                    <li
                        class="list-element"
                        class={currentPath === link.href ? "active" : ""}
                    >
                        <a href={link.href}>{link.label}</a>
                    </li>
                ))
            }
        </ul>
    </nav>
</header>

<style>
    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
        padding: 1.25rem;
        background-color: hsl(318, 71%, 37%);

        position: sticky;
        top: 0;
        z-index: 2;

        animation: enhace-header linear both;
        animation-timeline: scroll(root block);
        animation-range: 0 200px;

        & nav {
            flex: 2;

            & ul {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 0.6rem;
                list-style: none;

                & li {
                    position: relative;
                    border-radius: 1rem;
                    padding: 0.5rem;


                    & a {
                        font-size: 0.9rem;
                        text-decoration: none;
                        color: white;

                    }

                    &:hover {
                        background-color: #555;
                    }

                    &::before {
                        content: "";
                        position: absolute;
                        bottom: -5px;
                        left: 50%;
                        transform: translateX(-50%) scaleX(0);
                        transform-origin: center;
                        width: 100%;
                        height: 1px;
                        background-color: white;
                        transition: transform 0.3s ease-in-out;
                        z-index: 0;
                    }

                    &:hover::before {
                        transform: translateX(-50%) scaleX(1);
                    }
                }
            }
        }

        & div {
            flex: 1;
            display: grid;
            inset-block-start: 0;
            position: relative;
        }
    }

    .active {
        background-color: var(--color-btn);
    }

    @keyframes enhace-header {
        to {
            background: rgba(232, 103, 183, 0.244);
            backdrop-filter: blur(5px);
            font-size: 18px;
            color: black;
        }
    }
</style>
